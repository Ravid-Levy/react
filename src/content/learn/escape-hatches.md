---
title: Χ“Χ¨Χ›Χ™ ΧΧ™ΧΧ•Χ
---

<Intro>

Χ™Χ›Χ•Χ ΧΧ—ΧΧ§ ΧΧ”Χ¨Χ›Χ™Χ‘Χ™Χ Χ©ΧΧ Χ™Χ¦ΧΧ¨Χ›Χ• ΧΧ©ΧΧ•Χ Χ•ΧΧ΅Χ Χ›Χ¨Χ ΧΆΧ ΧΧΆΧ¨Χ›Χ•Χ ΧΧ—Χ•Χ¥ Χ-React. ΧΧ“Χ•Χ’ΧΧ, ΧΧ¤Χ©Χ¨ ΧΧΧ Χ¦Χ•Χ¨Χ ΧΧΧ§Χ“ Χ§ΧΧ Χ‘ΧΧΧ¦ΧΆΧ•Χ Χ”-API Χ©Χ Χ”Χ“Χ¤Χ, ΧΧ”Χ¤ΧΆΧ™Χ Χ•ΧΧ”Χ©Χ”Χ•Χ Χ Χ’Χ Χ•Χ™Χ“ΧΧ• ΧΧ™Χ•Χ©Χ React, ΧΧ• ΧΧ”ΧΧ—Χ‘Χ¨ Χ•ΧΧ”ΧΧ–Χ™Χ ΧΧ”Χ•Χ“ΧΆΧ•Χ ΧΧ©Χ¨Χ ΧΧ¨Χ•Χ—Χ§. Χ‘Χ¤Χ¨Χ§ Χ–Χ” ΧΧΧΧ“Χ• ΧΧ Χ¤ΧΧ—Χ™ Χ”ΧΧ™ΧΧ•Χ Χ”ΧΧΧ¤Χ©Χ¨Χ™Χ ΧΧ›Χ "ΧΧ¦ΧΧ Χ”Χ—Χ•Χ¦Χ”" ΧΧ”Χ’Χ™Χ‘ Χ•ΧΧ”ΧΧ—Χ‘Χ¨ ΧΧΧΆΧ¨Χ›Χ•Χ Χ—Χ™Χ¦Χ•Χ Χ™Χ•Χ. Χ¨Χ•Χ‘ Χ”Χ”Χ™Χ’Χ™Χ•Χ Χ©Χ Χ”Χ™Χ™Χ©Χ•Χ Χ•Χ”Χ–Χ¨Χ™ΧΧ” Χ©ΧΧ ΧΧ Χ¦Χ¨Χ™Χ ΧΧ”Χ΅ΧΧΧ ΧΆΧ ΧΧ›Χ•Χ Χ•Χ ΧΧΧ”.

</Intro>

<YouWillLearn isChapter={true}>

* [Χ›Χ™Χ¦Χ“ "ΧΧ–Χ›Χ•Χ¨" ΧΧ™Χ“ΧΆ ΧΧΧ ΧΆΧ™Χ‘Χ•Χ“ ΧΧ—Χ“Χ©](/learn/referencing-values-with-refs)
* [Χ›Χ™Χ¦Χ“ ΧΧ’Χ©Χ ΧΧ¨Χ›Χ™Χ‘Χ™ DOM Χ”ΧΧ Χ•Χ”Χ ΧΆΧ Χ™Χ“Χ™ React](/learn/manipulating-the-dom-with-refs)
* [Χ›Χ™Χ¦Χ“ ΧΧ΅Χ Χ›Χ¨Χ Χ¨Χ›Χ™Χ‘Χ™Χ ΧΆΧ ΧΧΆΧ¨Χ›Χ•Χ Χ—Χ™Χ¦Χ•Χ Χ™Χ•Χ](/ΧΧΧ“/Χ΅Χ Χ›Χ¨Χ•Χ-ΧΆΧ-ΧΧ¤Χ§ΧΧ™Χ)
* [Χ›Χ™Χ¦Χ“ ΧΧ”Χ•Χ¦Χ™Χ ΧΧ¤Χ§ΧΧ™Χ ΧΧ™Χ•ΧΧ¨Χ™Χ ΧΧ”Χ¨Χ›Χ™Χ‘Χ™Χ Χ©ΧΧ](/learn/you-might-not-need-an-effect)
* [ΧΧ™Χ ΧΧ—Χ–Χ•Χ¨ Χ”Χ—Χ™Χ™Χ Χ©Χ ΧΧ¤Χ§Χ Χ©Χ•Χ Χ” ΧΧΧ—Χ–Χ•Χ¨ Χ”Χ—Χ™Χ™Χ Χ©Χ Χ”Χ¨Χ›Χ™Χ‘](/learn/lifecycle-of-reactive-effects)
* [Χ›Χ™Χ¦Χ“ ΧΧΧ Χ•ΧΆ ΧΧ›ΧΧ” ΧΆΧ¨Χ›Χ™Χ ΧΧ”Χ¤ΧΆΧ™Χ ΧΧ—Χ“Χ© ΧΧ¤Χ§ΧΧ™Χ](/learn/separating-events-from-effects)
* [Χ›Χ™Χ¦Χ“ ΧΧ’Χ¨Χ•Χ ΧΧΧ¤Χ§Χ Χ©ΧΧ ΧΧ”Χ•Χ¤Χ™ΧΆ ΧΧ—Χ“Χ© Χ‘ΧΧ“Χ™Χ¨Χ•Χ Χ ΧΧ•Χ›Χ” Χ™Χ•ΧΧ¨](/learn/removing-effect-dependencies)
* [Χ›Χ™Χ¦Χ“ Χ©Χ™ΧΧ•Χ£ ΧΧ•Χ’Χ™Χ§Χ” Χ‘Χ™Χ Χ¨Χ›Χ™Χ‘Χ™Χ](/learn/reusing-logic-with-custom-hooks)

</YouWillLearn>

## Χ”Χ¤Χ Χ™Χ” ΧΧΆΧ¨Χ›Χ™Χ ΧΆΧ refs {/*referencing-values-with-refs*/}

Χ›ΧΧ©Χ¨ ΧΧΧ” Χ¨Χ•Χ¦Χ” Χ¨Χ›Χ™Χ‘ "Χ™Χ–Χ›Χ•Χ¨" ΧΧ™Χ“ΧΆ ΧΧ΅Χ•Χ™Χ, ΧΧ‘Χ ΧΧΧ” ΧΧ Χ¨Χ•Χ¦Χ” Χ©Χ”ΧΧ™Χ“ΧΆ Χ”Χ–Χ” [ΧΧ¤ΧΆΧ™Χ ΧΆΧ™Χ‘Χ•Χ“Χ™Χ Χ—Χ“Χ©Χ™Χ](/learn/render-and-commit), ΧΧΧ” Χ™Χ›Χ•Χ ΧΧ”Χ©ΧΧΧ© Χ‘-*ref*:

```js
const ref = useRef(0);
```

Χ‘Χ“Χ•ΧΧ” Χstate, Χ”Χ©Χ•Χ¤ΧΧ™Χ Χ Χ©ΧΧ¨Χ™Χ ΧΆΧ Χ™Χ“Χ™ ΧΧ’Χ•Χ‘Χ” Χ‘Χ™Χ ΧΆΧ™Χ‘Χ•Χ“Χ™Χ Χ—Χ•Χ–Χ¨Χ™Χ. ΧΆΧ Χ–ΧΧ, Χ”Χ’Χ“Χ¨Χ ΧΧ¦Χ‘ ΧΧΆΧ‘Χ“ ΧΧ—Χ“Χ© Χ¨Χ›Χ™Χ‘. Χ”Χ—ΧΧ¤Χ Χ©Χ•Χ¤Χ ΧΧ! ΧΧΧ” Χ™Χ›Χ•Χ ΧΧ’Χ©Χ ΧΧΆΧ¨Χ Χ”Χ Χ•Χ›Χ—Χ™ Χ©Χ ΧΧ•ΧΧ• ref Χ“Χ¨Χ Χ”ΧΧΧ¤Χ™Χ™Χ 'ref.current'.

<Sandpack>

```js
import { useRef } from 'react';

export default function Counter() {
  let ref = useRef(0);

  function handleClick() {
    ref.current = ref.current + 1;
    alert('You clicked ' + ref.current + ' times!');
  }

  return (
    <button onClick={handleClick}>
      Click me!
    </button>
  );
}
```

</Sandpack>

Χ©Χ•Χ¤Χ Χ”Χ•Χ Χ›ΧΧ• Χ›Χ™Χ΅ Χ΅Χ•Χ“Χ™ Χ©Χ Χ”Χ¨Χ›Χ™Χ‘ Χ©ΧΧ Χ©-React ΧΧ ΧΆΧ•Χ§Χ‘ ΧΧ—Χ¨Χ™Χ•. ΧΧ“Χ•Χ’ΧΧ”, ΧΧΧ” Χ™Χ›Χ•Χ ΧΧ”Χ©ΧΧΧ© Χ‘-refs Χ›Χ“Χ™ ΧΧΧ—Χ΅Χ [ΧΧ–Χ”Χ™ Χ–ΧΧ Χ§Χ¦Χ•Χ‘](https://developer.mozilla.org/en-US/docs/Web/API/setTimeout#return_value), [Χ¨Χ›Χ™Χ‘Χ™ DOM](https://developer.mozilla.org/en-US/docs Χ¨Χ›Χ™Χ‘/Web/API/Element Χ¤ΧΆΧ™ΧΧ™Χ), Χ•ΧΧ•Χ‘Χ™Χ™Χ§ΧΧ™Χ ΧΆΧ™Χ‘Χ•Χ“ ΧΧ—Χ¨Χ™Χ

<LearnMore path="/learn/referencing-values-with-refs">

Χ§Χ¨Χ ΧΧ **[Χ”ΧΧ™Χ™Χ—Χ΅Χ•Χ ΧΧΆΧ¨Χ›Χ™Χ ΧΆΧ Refs](/learn/referencing-values-with-refs)** Χ›Χ“Χ™ ΧΧΧΧ•Χ“ ΧΧ”Χ©ΧΧΧ© Χ‘-Refs Χ›Χ“Χ™ ΧΧ–Χ›Χ•Χ¨ ΧΧ™Χ“ΧΆ.

</LearnMore>

## ΧΧ Χ™Χ¤Χ•ΧΧ¦Χ™Χ” Χ©Χ Χ”-DOM ΧΆΧ Χ©Χ•"Χ¤Χ™Χ {/*ΧΧ Χ™Χ¤Χ•ΧΧ¦Χ™Χ”-Χ©Χ-Χ”Χ“Χ•Χ-ΧΆΧ-Χ©Χ•Χ¤Χ™Χ*/}

ΧΧ’Χ™Χ‘ ΧΧ•ΧΧΧ ΧΧ•ΧΧ•ΧΧΧ™Χ ΧΧ Χ”ΧΆΧ™Χ‘Χ•Χ“, Χ›Χ Χ©Χ”Χ¨Χ›Χ™Χ‘Χ™Χ Χ©ΧΧ ΧΧ Χ™Χ¦ΧΧ¨Χ›Χ• Χ‘ΧΧ•Χ•Χ— Χ–ΧΧ ΧΧΧ¤ΧΆΧ ΧΧ•ΧΧ•. ΧΆΧ Χ–ΧΧ, ΧΧ¤ΧΆΧΧ™Χ ΧΧ¤Χ©Χ¨ Χ©ΧΧ–Χ“Χ§Χ§ ΧΧ’Χ™Χ©Χ” ΧΧ¨Χ›Χ™Χ‘Χ™ Χ”-DOM Χ”ΧΧ Χ•Χ”Χ ΧΆΧ Χ™Χ“Χ™ React - ΧΧ“Χ•Χ’ΧΧ”, Χ›Χ“Χ™ ΧΧΧ§Χ“ Χ¦Χ•ΧΧ, ΧΧ’ΧΧ•Χ ΧΧΧ™Χ• ΧΧ• ΧΧΧ“Χ•Χ“ ΧΧ Χ’Χ•Χ“ΧΧ• Χ•ΧΧ™Χ§Χ•ΧΧ•. ΧΧ™Χ Χ“Χ¨Χ ΧΧ•Χ‘Χ Χ™Χ ΧΧΆΧ©Χ•Χ ΧΧ Χ”Χ“Χ‘Χ¨Χ™Χ Χ”ΧΧΧ” Χ‘-React, ΧΧ– ΧΧ¦ΧΧ¨Χ ref ΧΧ¦Χ•ΧΧ DOM. ΧΧ“Χ•Χ’ΧΧ”, ΧΧ—Χ™Χ¦Χ” ΧΆΧ Χ”Χ›Χ¤ΧΧ•Χ¨ ΧΧΆΧ΅Χ•Χ§ Χ‘Χ§ΧΧ Χ‘ΧΧΧ¦ΧΆΧ•Χ ref:

<Sandpack>

```js
import { useRef } from 'react';

export default function Form() {
  const inputRef = useRef(null);

  function handleClick() {
    inputRef.current.focus();
  }

  return (
    <>
      <input ref={inputRef} />
      <button onClick={handleClick}>
        Focus the input
      </button>
    </>
  );
}
```

</Sandpack>

<LearnMore path="/learn/manipulating-the-dom-with-refs">

Χ§Χ¨Χ ΧΧ **[ΧΧ Χ™Χ¤Χ•ΧΧ¦Χ™Χ” Χ©Χ Χ”-DOM ΧΆΧ Refs](/learn/manipulating-the-dom-with-refs)** Χ›Χ“Χ™ ΧΧΧΧ•Χ“ Χ›Χ™Χ¦Χ“ ΧΧ’Χ©Χ ΧΧ¨Χ›Χ™Χ‘Χ™ DOM Χ”ΧΧ Χ•Χ”Χ ΧΆΧ Χ™Χ“Χ™ React.

</LearnMore>

## Χ΅Χ Χ›Χ¨Χ•Χ ΧΆΧ ΧΧ¤Χ§ΧΧ™Χ {/*Χ΅Χ Χ›Χ¨Χ•Χ-ΧΆΧ-ΧΧ¤Χ§ΧΧ™Χ*/}

Χ—ΧΧ§ ΧΧ”Χ¨Χ›Χ™Χ‘Χ™Χ Χ¦Χ¨Χ™Χ›Χ™Χ ΧΧ”Χ΅ΧΧ Χ›Χ¨Χ ΧΆΧ ΧΧΆΧ¨Χ›Χ•Χ Χ—Χ™Χ¦Χ•Χ Χ™Χ•Χ. ΧΧ“Χ•Χ’ΧΧ”, ΧΧ¤Χ©Χ¨ Χ©ΧΧ¨Χ¦Χ” ΧΧ©ΧΧ•Χ Χ‘Χ¨Χ›Χ™Χ‘ Χ©ΧΧ™Χ Χ• React Χ‘Χ”ΧΧ‘Χ΅Χ΅ ΧΆΧ ΧΧ¦Χ‘ React, ΧΧ”Χ’Χ“Χ™Χ¨ Χ—Χ™Χ‘Χ•Χ¨ ΧΧ©Χ¨Χ, ΧΧ• ΧΧ©ΧΧ•Χ— Χ™Χ•ΧΧ Χ Χ™ΧΧ•Χ— Χ›ΧΧ©Χ¨ Χ”Χ•Χ ΧΧ•Χ¤Χ™ΧΆ ΧΆΧ Χ”ΧΧ΅Χ. ΧΧΧ¤Χ Χ‘ΧΧ™Χ¨Χ•ΧΆΧ™Χ, Χ”ΧΧΧ¤Χ©Χ¨Χ™Χ ΧΧ ΧΧ”Χ¨Χ™Χ¥ Χ‘ΧΧ™Χ¨Χ•ΧΆΧ™Χ, *ΧΧ¤Χ§ΧΧ™Χ* ΧΧΧ¤Χ©Χ¨Χ™Χ ΧΧ ΧΧ”Χ¨Χ™Χ¥ Χ§Χ•Χ“ ΧΧ΅Χ•Χ™Χ ΧΧΧ—Χ¨ Χ”ΧΆΧ™Χ‘Χ•Χ“. Χ”Χ©ΧΧΧ© Χ‘Χ”Χ Χ›Χ“Χ™ ΧΧ΅Χ Χ›Χ¨Χ ΧΧ Χ”Χ¨Χ›Χ™Χ‘ Χ©ΧΧ ΧΆΧ ΧΧΆΧ¨Χ›Χ ΧΧ—Χ•Χ¥ Χ-React.

Χ”Χ§Χ© ΧΆΧ Χ”Χ¤ΧΆΧ/Χ”Χ©Χ”Χ” Χ›ΧΧ” Χ¤ΧΆΧΧ™Χ Χ•Χ¨ΧΧ” Χ›Χ™Χ¦Χ“ Χ Χ’Χ Χ”Χ•Χ•Χ™Χ“ΧΧ• Χ Χ©ΧΧ¨ ΧΧ΅Χ•Χ Χ›Χ¨Χ ΧΧΆΧ¨Χ Χ”-'isPlaying':

<Sandpack>

```js
import { useState, useRef, useEffect } from 'react';

function VideoPlayer({ src, isPlaying }) {
  const ref = useRef(null);

  useEffect(() => {
    if (isPlaying) {
      ref.current.play();
    } else {
      ref.current.pause();
    }
  }, [isPlaying]);

  return <video ref={ref} src={src} loop playsInline />;
}

export default function App() {
  const [isPlaying, setIsPlaying] = useState(false);
  return (
    <>
      <button onClick={() => setIsPlaying(!isPlaying)}>
        {isPlaying ? 'Pause' : 'Play'}
      </button>
      <VideoPlayer
        isPlaying={isPlaying}
        src="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4"
      />
    </>
  );
}
```

```css
button { display: block; margin-bottom: 20px; }
video { width: 250px; }
```

</Sandpack>

ΧΧ¤Χ§ΧΧ™Χ Χ¨Χ‘Χ™Χ Χ’Χ "ΧΧ Χ§Χ™Χ" ΧΧ—Χ¨Χ™ ΧΧ Χ©Χ™Χ. ΧΧ“Χ•Χ’ΧΧ”, ΧΧ¤Χ§Χ Χ©ΧΧ’Χ“Χ™Χ¨ Χ—Χ™Χ‘Χ•Χ¨ ΧΧ©Χ¨Χ Χ¦'ΧΧ Χ¦Χ¨Χ™Χ ΧΧ”Χ—Χ–Χ™Χ¨ *Χ¤Χ•Χ Χ§Χ¦Χ™Χ™Χ Χ Χ™Χ§Χ•Χ™* Χ©ΧΧ•ΧΧ¨Χ Χ-React ΧΧ™Χ ΧΧ ΧΧ§ ΧΧ Χ”Χ¨Χ›Χ™Χ‘ Χ©ΧΧ ΧΧ”Χ©Χ¨Χ Χ”Χ–Χ”:

<Sandpack>

```js
import { useState, useEffect } from 'react';
import { createConnection } from './chat.js';

export default function ChatRoom() {
  useEffect(() => {
    const connection = createConnection();
    connection.connect();
    return () => connection.disconnect();
  }, []);
  return <h1>Welcome to the chat!</h1>;
}
```

```js src/chat.js
export function createConnection() {
  // A real implementation would actually connect to the server
  return {
    connect() {
      console.log('β… Connecting...');
    },
    disconnect() {
      console.log('β Disconnected.');
    }
  };
}
```

```css
input { display: block; margin-bottom: 20px; }
```

</Sandpack>

Χ‘Χ¤Χ™ΧΧ•Χ—, React Χ™Χ¤ΧΆΧ™Χ ΧΧ™Χ“ Χ•ΧΧ Χ§Χ” ΧΧ Χ”ΧΧ¤Χ§Χ Χ©ΧΧ Χ¤ΧΆΧ Χ Χ•Χ΅Χ¤Χ. ΧΧΧ” Χ¨Χ•ΧΧ” ΧΧ `"β… ΧΧΧ—Χ‘Χ¨..."` ΧΧ•Χ“Χ¤Χ΅ Χ¤ΧΆΧΧ™Χ™Χ. Χ–Χ” ΧΧ‘ΧΧ™Χ— Χ©ΧΧ ΧΧ©Χ›Χ— ΧΧ™Χ™Χ©Χ ΧΧ Χ¤Χ•Χ Χ§Χ¦Χ™Χ™Χ Χ”Χ Χ™Χ§Χ•Χ™.

<LearnMore path="/learn/synchronizing-with-effects">

Χ§Χ¨Χ ΧΧ **[Χ΅Χ Χ›Χ¨Χ•Χ ΧΆΧ ΧΧ¤Χ§ΧΧ™Χ](/learn/synchronizing-with-effects)** Χ›Χ“Χ™ ΧΧΧΧ•Χ“ Χ›Χ™Χ¦Χ“ ΧΧ΅Χ Χ›Χ¨Χ Χ¨Χ›Χ™Χ‘Χ™Χ ΧΆΧ ΧΧΆΧ¨Χ›Χ•Χ Χ—Χ™Χ¦Χ•Χ Χ™Χ•Χ.

</LearnMore>

## ΧΧ•ΧΧ™ ΧΧ ΧΧ–Χ“Χ§Χ§ ΧΧΧ¤Χ§Χ {/*Χ™Χ™ΧΧ›Χ-ΧΧ-ΧΧ¦ΧΧ¨Χ-ΧΧ¤Χ§Χ*/}

ΧΧ¤Χ§ΧΧ™Χ Χ”Χ Χ¤ΧΧ— ΧΧ™ΧΧ•Χ ΧΧ¤Χ¨Χ“Χ™Χ’ΧΧ React. Χ”Χ ΧΧΧ¤Χ©Χ¨Χ™Χ ΧΧ "ΧΧ¦ΧΧ Χ”Χ—Χ•Χ¦Χ”" Χ-React Χ•ΧΧ΅Χ Χ›Χ¨Χ ΧΧ Χ”Χ¨Χ›Χ™Χ‘Χ™Χ Χ©ΧΧ ΧΆΧ ΧΧΆΧ¨Χ›Χ Χ—Χ™Χ¦Χ•Χ Χ™Χ. ΧΧ ΧΧ™Χ ΧΧΆΧ¨Χ›Χ Χ—Χ™Χ¦Χ•Χ Χ™Χ ΧΧΆΧ•Χ¨Χ‘Χ (ΧΧ“Χ•Χ’ΧΧ”, ΧΧ Χ¨Χ•Χ¦Χ” ΧΧΆΧ“Χ›Χ ΧΧ¦Χ‘ Χ©Χ Χ¨Χ›Χ™Χ‘ Χ›ΧΧ©Χ¨ ΧΧΧ” props ΧΧ• ΧΧ¦Χ‘ ΧΧ©ΧΧ Χ™Χ), ΧΧΧ” ΧΧ ΧΧΧ•Χ¨ ΧΧ”Χ–Χ“Χ§ ΧΧΧ¤Χ§Χ. Χ”Χ΅Χ¨Χ ΧΧ¤Χ§ΧΧ™Χ ΧΧ™Χ•ΧΧ¨Χ™Χ ΧΧ”Χ¤Χ•Χ ΧΧ Χ”Χ§Χ•Χ“ Χ©ΧΧ ΧΧ§Χ Χ™Χ•ΧΧ¨ ΧΧΆΧ§Χ•Χ‘, ΧΧ”Χ¨ Χ™Χ•ΧΧ¨ ΧΧ”Χ¤ΧΆΧΧ” Χ•Χ Χ•ΧΧ” Χ¤Χ—Χ•Χ ΧΧ©Χ’Χ™ΧΧ•Χ.

Χ™Χ©Χ Χ Χ©Χ Χ™ ΧΧ§Χ¨Χ™Χ Χ Χ¤Χ•Χ¦Χ™Χ Χ©Χ‘Χ”Χ ΧΧΧ” ΧΧ Χ¦Χ¨Χ™Χ ΧΧ¤Χ§ΧΧ™Χ:
- **ΧΧ Χ¦Χ¨Χ™Χ ΧΧ¤Χ§ΧΧ™Χ Χ›Χ“Χ™ ΧΧ”Χ¤Χ•Χ Χ ΧΧ•Χ Χ™Χ ΧΧΆΧ™Χ‘Χ•Χ“.**
- **ΧΧ Χ¦Χ¨Χ™Χ ΧΧ¤Χ§ΧΧ™Χ Χ›Χ“Χ™ ΧΧΧ¤Χ Χ‘ΧΧ™Χ¨Χ•ΧΆΧ™ ΧΧ©ΧΧΧ©.**

ΧΧ“Χ•Χ’ΧΧ”, ΧΧΧ” ΧΧ Χ¦Χ¨Χ™Χ ΧΧ¤Χ§Χ Χ›Χ“Χ™ ΧΧ”ΧΧΧ™Χ ΧΧ¦Χ‘ ΧΧ΅Χ•Χ™Χ ΧΆΧ Χ΅ΧΧ ΧΧ¦Χ‘ ΧΧ—Χ¨:

```js {5-9}
function Form() {
  const [firstName, setFirstName] = useState('Taylor');
  const [lastName, setLastName] = useState('Swift');

  // π”΄ Avoid: redundant state and unnecessary Effect
  const [fullName, setFullName] = useState('');
  useEffect(() => {
    setFullName(firstName + ' ' + lastName);
  }, [firstName, lastName]);
  // ...
}
```

Χ‘ΧΧ§Χ•Χ Χ–ΧΧ, Χ—Χ©Χ‘ Χ›ΧΧ” Χ©ΧΧΧ” Χ™Χ›Χ•Χ ΧΧ•Χ Χ›Χ“Χ™ Χ¨Χ™Χ Χ“Χ•Χ¨:

```js {4-5}
function Form() {
  const [firstName, setFirstName] = useState('Taylor');
  const [lastName, setLastName] = useState('Swift');
  // β… Good: calculated during rendering
  const fullName = firstName + ' ' + lastName;
  // ...
}
```

ΧΆΧ Χ–ΧΧ, ΧΧΧ” *Χ“Χ•Χ•Χ§Χ* Χ¦Χ¨Χ™Χ ΧΧ¤Χ§ΧΧ™Χ Χ›Χ“Χ™ ΧΧ΅Χ Χ›Χ¨Χ ΧΆΧ ΧΧΆΧ¨Χ›Χ•Χ Χ—Χ™Χ¦Χ•Χ Χ™Χ•Χ. 

<LearnMore path="/learn/you-might-not-need-an-effect">

Χ§Χ¨Χ ΧΧ **[Χ™Χ™ΧΧ›Χ Χ©ΧΧ ΧΧ–Χ“Χ§ ΧΧΧ¤Χ§Χ](/learn/you-might-not-need-an-effect)** Χ›Χ“Χ™ ΧΧΧΧ© ΧΧ¤Χ§ΧΧ™Χ ΧΧ™Χ•ΧΧ¨Χ™Χ.

</LearnMore>

## ΧΧ—Χ–Χ•Χ¨ Χ—Χ™Χ™Χ Χ©Χ ΧΧ¤Χ§ΧΧ™Χ ΧΧ’Χ•Χ‘ΧΧ™Χ™Χ {/*ΧΧ—Χ–Χ•Χ¨-Χ—Χ™Χ™Χ-Χ©Χ-ΧΧ¤Χ§ΧΧ™Χ-ΧΧ’Χ•Χ‘ΧΧ™Χ™Χ*/}

ΧΧΧ¤Χ§ΧΧ™Χ Χ™Χ© ΧΧ—Χ–Χ•Χ¨ Χ—Χ™Χ™Χ. Χ¨Χ›Χ™Χ‘Χ™Χ Χ¨Χ›Χ™Χ‘Χ™Χ ΧΧΆΧΧ•Χ, ΧΧΆΧ“ ΧΧ• ΧΧΧΆΧ™Χ Χ”. ΧΧ¤Χ§Χ Χ™Χ›Χ•Χ ΧΧΆΧ©Χ•Χ Χ¨Χ§ Χ©Χ Χ™ Χ“Χ‘Χ¨Χ™Χ: ΧΧ”ΧΧ—Χ™Χ ΧΧ΅Χ Χ›Χ¨Χ ΧΧ©Χ”Χ•, Χ•Χ‘Χ”ΧΧ©Χ ΧΧ”Χ¤Χ΅Χ™Χ§ ΧΧ΅Χ Χ›Χ¨Χ ΧΧ•ΧΧ•. ΧΧ—Χ–Χ•Χ¨ Χ–Χ” Χ™Χ›Χ•Χ ΧΧ§Χ¨Χ•Χ ΧΧ΅Χ¤Χ¨ Χ¤ΧΆΧΧ™Χ ΧΧ Χ”Χ”Χ©Χ¤ΧΆΧ” Χ©ΧΧ ΧΧΧ•Χ™Χ” Χ‘props Χ•Χ‘states Χ”ΧΧ©ΧΧ Χ™Χ ΧΆΧ Χ”Χ–ΧΧ.

ΧΧ¤Χ§Χ Χ–Χ” ΧΧΧ•Χ™ Χ‘ΧΆΧ¨Χ Χ©Χ Χ”Χ¤Χ¨Χ•Χ¤Χ΅ Χ©Χ `roomId`. props Χ”Χ * ΧΆΧ¨Χ›Χ™Χ ΧΧ’Χ•Χ‘ΧΧ™Χ™Χ,* ΧΧ” Χ©ΧΧ•ΧΧ¨ Χ©Χ”Χ Χ™Χ›Χ•ΧΧ™Χ ΧΧ”Χ©ΧΧ Χ•Χ Χ‘ΧΆΧ™Χ‘Χ•Χ“ ΧΧ—Χ“Χ©. Χ©Χ™ΧΧ• ΧΧ‘ Χ©Χ”ΧΧ¤Χ§Χ *ΧΧ΅Χ Χ›Χ¨Χ ΧΧ—Χ“Χ©* (Χ•ΧΧΧ—Χ‘Χ¨ ΧΧ—Χ“Χ© ΧΧ©Χ¨Χ) ΧΧ Χ“Χ™Χ¨Χ•Χ’ `roomId`:

<Sandpack>

```js
import { useState, useEffect } from 'react';
import { createConnection } from './chat.js';

const serverUrl = 'https://localhost:1234';

function ChatRoom({ roomId }) {
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => connection.disconnect();
  }, [roomId]);

  return <h1>Welcome to the {roomId} room!</h1>;
}

export default function App() {
  const [roomId, setRoomId] = useState('general');
  return (
    <>
      <label>
        Choose the chat room:{' '}
        <select
          value={roomId}
          onChange={e => setRoomId(e.target.value)}
        >
          <option value="general">general</option>
          <option value="travel">travel</option>
          <option value="music">music</option>
        </select>
      </label>
      <hr />
      <ChatRoom roomId={roomId} />
    </>
  );
}
```

```js src/chat.js
export function createConnection(serverUrl, roomId) {
  // A real implementation would actually connect to the server
  return {
    connect() {
      console.log('β… Connecting to "' + roomId + '" room at ' + serverUrl + '...');
    },
    disconnect() {
      console.log('β Disconnected from "' + roomId + '" room at ' + serverUrl);
    }
  };
}
```

```css
input { display: block; margin-bottom: 20px; }
button { margin-left: 10px; }
```

</Sandpack>

React ΧΧ΅Χ¤Χ§ Χ›ΧΧ linter Χ›Χ“Χ™ ΧΧ‘Χ“Χ•Χ§ ΧΧ Χ”ΧΧΧ•Χ Χ©Χ Χ”ΧΧ¤Χ§Χ Χ©ΧΧ Χ‘Χ¦Χ•Χ¨Χ” Χ Χ›Χ•Χ Χ”. ΧΧ ΧΧ©Χ›Χ— ΧΧ¦Χ™Χ™Χ 'roomId' Χ‘Χ¨Χ©Χ™ΧΧ Χ”ΧΧΧ•Χ Χ‘Χ“Χ•Χ’ΧΧ” ΧΧΆΧ™Χ, Χ”-linter Χ™Χ‘Χ™Χ ΧΧ Χ”Χ‘ΧΧ’ Χ”Χ–Χ” Χ‘ΧΧ•Χ¤Χ ΧΧ•ΧΧ•ΧΧΧ™.

<LearnMore path="/learn/lifecycle-of-reactive-effects">

Χ§Χ¨Χ ΧΧ **[ΧΧ—Χ–Χ•Χ¨ Χ—Χ™Χ™Χ Χ©Χ ΧΧ™Χ¨Χ•ΧΆΧ™Χ ΧΧ’Χ•Χ‘ΧΧ™Χ™Χ](/learn/lifecycle-of-reactive-effects)** Χ›Χ“Χ™ ΧΧΧΧ•Χ“ ΧΧ—Χ–Χ•Χ¨ Χ”Χ—Χ™Χ™Χ Χ©Χ ΧΧ¤Χ§Χ Χ©Χ•Χ Χ” ΧΧ–Χ” Χ©Χ Χ¨Χ›Χ™Χ‘.

</LearnMore>

## Χ”Χ¤Χ¨Χ“Χ ΧΧ™Χ¨Χ•ΧΆΧ™Χ ΧΧ”ΧΧ¤Χ§ΧΧ™Χ {/*Χ”Χ¤Χ¨Χ“Χ-ΧΧ™Χ¨Χ•ΧΆΧ™Χ-ΧΧ”ΧΧ¤Χ§ΧΧ™Χ*/}

<Wip>

Χ΅ΧΆΧ™Χ£ Χ–Χ” ΧΧΧΧ¨ **API Χ Χ™Χ΅Χ™Χ•Χ Χ™ Χ©ΧΆΧ“Χ™Χ™Χ ΧΧ Χ©Χ•Χ—Χ¨Χ¨** Χ‘Χ’Χ¨Χ΅Χ” Χ™Χ¦Χ™Χ‘Χ” Χ©Χ React.

</Wip>

Χ¤Χ•ΧΆΧΧ™ ΧΧ™Χ¨Χ•ΧΆΧ™Χ ΧΧ—Χ“Χ© Χ¨Χ§ Χ›ΧΧ©Χ¨ ΧΧΧ” ΧΧ‘Χ¦ΧΆ Χ©Χ•Χ‘ ΧΧ ΧΧ•ΧΧ” ΧΧ™Χ ΧΧ¨ΧΧ§Χ¦Χ™Χ”. Χ©ΧΧ Χ›ΧΧ• ΧΧΧ¤ΧΧ™ ΧΧ™Χ¨Χ•ΧΆΧ™Χ, ΧΧ¤Χ§ΧΧ™Χ ΧΧ΅ΧΧ Χ›Χ¨Χ Χ™Χ ΧΧ—Χ“Χ© ΧΧ ΧΧ—Χ“ ΧΧ”ΧΆΧ¨Χ›Χ™Χ Χ©Χ”Χ Χ§Χ•Χ¨ΧΧ™Χ, Χ›ΧΧ• props ΧΧ• ΧΧ¦Χ‘, Χ©Χ•Χ Χ” ΧΧΆΧ‘Χ¨ ΧΧΆΧ™Χ‘Χ•Χ“ Χ”ΧΧ—Χ¨Χ•Χ. ΧΧ¤ΧΆΧΧ™Χ, ΧΧΧ” Χ¨Χ•Χ¦Χ” Χ©Χ™ΧΧ•Χ‘ Χ©Χ Χ©ΧΧ™ Χ”Χ”ΧΧ Χ”Χ’Χ•Χ™Χ•Χ: ΧΧ¤Χ§Χ Χ”ΧΧ•Χ¤ΧΆΧ ΧΧ—Χ“Χ© Χ‘ΧΧ’Χ•Χ‘Χ” ΧΧ”Χ’Χ“Χ¨Χ” ΧΧ ΧΧ ΧΧΧΧ™ΧΧ”.

Χ›Χ Χ”Χ§Χ•Χ“ Χ‘ΧΧ•Χ ΧΧ¤Χ§ΧΧ™Χ Χ”Χ•Χ *reactive.* Χ”Χ•Χ Χ™Χ¤ΧΆΧ Χ©Χ•Χ‘ ΧΧ Χ”Χ•Χ Χ§Χ•Χ¨Χ Χ”Χ©ΧΧ Χ” ΧΆΧ§Χ‘ ΧΆΧ™Χ‘Χ•Χ“ ΧΧ—Χ“Χ©. ΧΧ“Χ•Χ’ΧΧ”, ΧΧ¤Χ§Χ Χ–Χ” Χ™ΧΧ—Χ‘Χ¨ ΧΧ—Χ“Χ© ΧΧ¦'ΧΧ ΧΧ 'roomId' ΧΧ• 'theme' Χ”Χ©ΧΧ Χ•:

<Sandpack>

```json package.json hidden
{
  "dependencies": {
    "react": "latest",
    "react-dom": "latest",
    "react-scripts": "latest",
    "toastify-js": "1.12.0"
  },
  "scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build",
    "test": "react-scripts test --env=jsdom",
    "eject": "react-scripts eject"
  }
}
```

```js
import { useState, useEffect } from 'react';
import { createConnection, sendMessage } from './chat.js';
import { showNotification } from './notifications.js';

const serverUrl = 'https://localhost:1234';

function ChatRoom({ roomId, theme }) {
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.on('connected', () => {
      showNotification('Connected!', theme);
    });
    connection.connect();
    return () => connection.disconnect();
  }, [roomId, theme]);

  return <h1>Welcome to the {roomId} room!</h1>
}

export default function App() {
  const [roomId, setRoomId] = useState('general');
  const [isDark, setIsDark] = useState(false);
  return (
    <>
      <label>
        Choose the chat room:{' '}
        <select
          value={roomId}
          onChange={e => setRoomId(e.target.value)}
        >
          <option value="general">general</option>
          <option value="travel">travel</option>
          <option value="music">music</option>
        </select>
      </label>
      <label>
        <input
          type="checkbox"
          checked={isDark}
          onChange={e => setIsDark(e.target.checked)}
        />
        Use dark theme
      </label>
      <hr />
      <ChatRoom
        roomId={roomId}
        theme={isDark ? 'dark' : 'light'} 
      />
    </>
  );
}
```

```js src/chat.js
export function createConnection(serverUrl, roomId) {
  // A real implementation would actually connect to the server
  let connectedCallback;
  let timeout;
  return {
    connect() {
      timeout = setTimeout(() => {
        if (connectedCallback) {
          connectedCallback();
        }
      }, 100);
    },
    on(event, callback) {
      if (connectedCallback) {
        throw Error('Cannot add the handler twice.');
      }
      if (event !== 'connected') {
        throw Error('Only "connected" event is supported.');
      }
      connectedCallback = callback;
    },
    disconnect() {
      clearTimeout(timeout);
    }
  };
}
```

```js src/notifications.js
import Toastify from 'toastify-js';
import 'toastify-js/src/toastify.css';

export function showNotification(message, theme) {
  Toastify({
    text: message,
    duration: 2000,
    gravity: 'top',
    position: 'right',
    style: {
      background: theme === 'dark' ? 'black' : 'white',
      color: theme === 'dark' ? 'white' : 'black',
    },
  }).showToast();
}
```

```css
label { display: block; margin-top: 10px; }
```

</Sandpack>

Χ–Χ” ΧΧ ΧΧ™Χ“Χ™ΧΧΧ™. ΧΧΧ” Χ¨Χ•Χ¦Χ” ΧΧ”ΧΧ—Χ‘Χ¨ ΧΧ—Χ“Χ© ΧΧ¦'ΧΧ Χ¨Χ§ ΧΧ Χ”-'roomId' Χ”Χ©ΧΧ Χ”. Χ”Χ—ΧΧ¤Χ `Χ Χ•Χ©Χ` ΧΧ ΧΧΧ•Χ¨Χ” ΧΧ”ΧΧ—Χ‘Χ¨ ΧΧ—Χ“Χ© ΧΧ¦'ΧΧ! Χ”ΧΆΧ‘Χ¨ ΧΧ Χ”Χ§Χ•Χ“ Χ©Χ§Χ•Χ¨Χ ΧΧ Χ”-'theme' ΧΧ”ΧΧ¤Χ§Χ Χ©ΧΧ Χ-*Effect Event*:

<Sandpack>

```json package.json hidden
{
  "dependencies": {
    "react": "experimental",
    "react-dom": "experimental",
    "react-scripts": "latest",
    "toastify-js": "1.12.0"
  },
  "scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build",
    "test": "react-scripts test --env=jsdom",
    "eject": "react-scripts eject"
  }
}
```

```js
import { useState, useEffect } from 'react';
import { experimental_useEffectEvent as useEffectEvent } from 'react';
import { createConnection, sendMessage } from './chat.js';
import { showNotification } from './notifications.js';

const serverUrl = 'https://localhost:1234';

function ChatRoom({ roomId, theme }) {
  const onConnected = useEffectEvent(() => {
    showNotification('Connected!', theme);
  });

  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.on('connected', () => {
      onConnected();
    });
    connection.connect();
    return () => connection.disconnect();
  }, [roomId]);

  return <h1>Welcome to the {roomId} room!</h1>
}

export default function App() {
  const [roomId, setRoomId] = useState('general');
  const [isDark, setIsDark] = useState(false);
  return (
    <>
      <label>
        Choose the chat room:{' '}
        <select
          value={roomId}
          onChange={e => setRoomId(e.target.value)}
        >
          <option value="general">general</option>
          <option value="travel">travel</option>
          <option value="music">music</option>
        </select>
      </label>
      <label>
        <input
          type="checkbox"
          checked={isDark}
          onChange={e => setIsDark(e.target.checked)}
        />
        Use dark theme
      </label>
      <hr />
      <ChatRoom
        roomId={roomId}
        theme={isDark ? 'dark' : 'light'} 
      />
    </>
  );
}
```

```js src/chat.js
export function createConnection(serverUrl, roomId) {
  // A real implementation would actually connect to the server
  let connectedCallback;
  let timeout;
  return {
    connect() {
      timeout = setTimeout(() => {
        if (connectedCallback) {
          connectedCallback();
        }
      }, 100);
    },
    on(event, callback) {
      if (connectedCallback) {
        throw Error('Cannot add the handler twice.');
      }
      if (event !== 'connected') {
        throw Error('Only "connected" event is supported.');
      }
      connectedCallback = callback;
    },
    disconnect() {
      clearTimeout(timeout);
    }
  };
}
```

```js src/notifications.js hidden
import Toastify from 'toastify-js';
import 'toastify-js/src/toastify.css';

export function showNotification(message, theme) {
  Toastify({
    text: message,
    duration: 2000,
    gravity: 'top',
    position: 'right',
    style: {
      background: theme === 'dark' ? 'black' : 'white',
      color: theme === 'dark' ? 'white' : 'black',
    },
  }).showToast();
}
```

```css
label { display: block; margin-top: 10px; }
```

</Sandpack>

Χ”Χ§Χ•Χ“ Χ‘ΧΧ•Χ ΧΧ™Χ¨Χ•ΧΆΧ™ ΧΧ¤Χ§Χ ΧΧ™Χ Χ• ΧΧ’Χ•Χ‘ΧΧ™, Χ›Χ Χ©Χ©Χ™Χ Χ•Χ™ `Χ”Χ Χ•Χ©Χ` Χ›Χ‘Χ¨ ΧΧ Χ’Χ•Χ¨Χ ΧΧΧ¤Χ§Χ ΧΧ”ΧΧ—Χ‘Χ¨ ΧΧ—Χ“Χ©.

<LearnMore path="/learn/separating-events-from-effects">

Χ§Χ¨Χ ΧΧ **[Χ”Χ¤Χ¨Χ“Χ ΧΧ™Χ¨Χ•ΧΆΧ™Χ ΧΧΧ¤Χ§ΧΧ™Χ](/learn/separating-events-from-effects)** Χ›Χ“Χ™ ΧΧΧΧ•Χ“ Χ›Χ™Χ¦Χ“ ΧΧΧ Χ•ΧΆ ΧΧ›ΧΧ” ΧΆΧ¨Χ›Χ™Χ ΧΧ”Χ¤ΧΆΧ™Χ ΧΧ—Χ“Χ© ΧΧ¤Χ§ΧΧ™Χ.

</LearnMore>

## Χ”Χ΅Χ¨Χ ΧΧΧ•Χ™Χ•Χ ΧΧ¤Χ§Χ {/*Χ”Χ΅Χ¨Χ-ΧΧ¤Χ§Χ-ΧΧΧ•Χ*/}

Χ›ΧΧ©Χ¨ ΧΧΧ” Χ›Χ•ΧΧ‘ ΧΧ¤Χ§Χ, Χ”-linter Χ™Χ•Χ•Χ“Χ Χ©Χ›ΧΧΧ Χ›Χ ΧΆΧ¨Χ ΧΧ’Χ•Χ‘ΧΧ™ (Χ›ΧΧ• props Χ•state) Χ©Χ”ΧΧ¤Χ§Χ Χ§Χ•Χ¨Χ Χ‘Χ¨Χ©Χ™ΧΧ Χ”ΧΧΧ•Χ Χ©Χ Χ”ΧΧ¤Χ§Χ Χ©ΧΧ. Χ–Χ” ΧΧ‘ΧΧ™Χ— Χ©Χ”ΧΧ¤Χ§Χ Χ©ΧΧ Χ™Χ™Χ©ΧΧ¨ ΧΧ΅Χ•Χ Χ›Χ¨Χ ΧΆΧ Χ”props Χ•state Χ”ΧΆΧ“Χ›Χ Χ™Χ™Χ Χ‘Χ™Χ•ΧΧ¨ Χ©Χ Χ”Χ¨Χ›Χ™Χ‘ Χ©ΧΧ. ΧΧΧ•Χ ΧΧ™Χ•ΧΧ¨Χ•Χ ΧΆΧΧ•ΧΧ” ΧΧ’Χ¨Χ•Χ ΧΧΧ¤Χ§Χ Χ©ΧΧ ΧΧ¤ΧΆΧ•Χ Χ‘Χ–ΧΧ, ΧΧ• ΧΧ¤Χ™ΧΧ• ΧΧ™Χ¦Χ•Χ¨ ΧΧ•ΧΧΧ” ΧΧ™Χ Χ΅Χ•Χ¤Χ™Χ. Χ”Χ“Χ¨Χ ΧΧΧ•Χ™Χ” Χ‘ΧΧ§Χ¨Χ”.

ΧΧ“Χ•Χ’ΧΧ”, ΧΧ¤Χ§Χ Χ–Χ” ΧΧΧ•Χ™ Χ‘ΧΧ•Χ‘Χ™Χ™Χ§Χ 'ΧΧ¤Χ©Χ¨Χ•Χ™Χ•Χ' Χ©Χ Χ•Χ¦Χ¨ ΧΧ—Χ“Χ© Χ‘Χ›Χ Χ¤ΧΆΧ Χ©ΧΧΧ” ΧΆΧ•Χ¨Χ ΧΧ Χ”Χ§ΧΧ:

<Sandpack>

```js
import { useState, useEffect } from 'react';
import { createConnection } from './chat.js';

const serverUrl = 'https://localhost:1234';

function ChatRoom({ roomId }) {
  const [message, setMessage] = useState('');

  const options = {
    serverUrl: serverUrl,
    roomId: roomId
  };

  useEffect(() => {
    const connection = createConnection(options);
    connection.connect();
    return () => connection.disconnect();
  }, [options]);

  return (
    <>
      <h1>Welcome to the {roomId} room!</h1>
      <input value={message} onChange={e => setMessage(e.target.value)} />
    </>
  );
}

export default function App() {
  const [roomId, setRoomId] = useState('general');
  return (
    <>
      <label>
        Choose the chat room:{' '}
        <select
          value={roomId}
          onChange={e => setRoomId(e.target.value)}
        >
          <option value="general">general</option>
          <option value="travel">travel</option>
          <option value="music">music</option>
        </select>
      </label>
      <hr />
      <ChatRoom roomId={roomId} />
    </>
  );
}
```

```js src/chat.js
export function createConnection({ serverUrl, roomId }) {
  // A real implementation would actually connect to the server
  return {
    connect() {
      console.log('β… Connecting to "' + roomId + '" room at ' + serverUrl + '...');
    },
    disconnect() {
      console.log('β Disconnected from "' + roomId + '" room at ' + serverUrl);
    }
  };
}
```

```css
input { display: block; margin-bottom: 20px; }
button { margin-left: 10px; }
```

</Sandpack>

ΧΧΧ” ΧΧ Χ¨Χ•Χ¦Χ” Χ©Χ”Χ¦'ΧΧ Χ™ΧΧ—Χ‘Χ¨ ΧΧ—Χ“Χ© Χ‘Χ›Χ Χ¤ΧΆΧ Χ©ΧΧΧ” ΧΧΧ—Χ™Χ ΧΧ”Χ§ΧΧ™Χ“ Χ”Χ•Χ“ΧΆΧ” Χ‘Χ¦'ΧΧ Χ–Χ”. Χ›Χ“Χ™ ΧΧΧ§Χ Χ–Χ• Χ‘ΧΆΧ™Χ”, Χ”ΧΆΧ‘Χ¨ ΧΧ Χ”Χ™Χ¦Χ™Χ¨Χ” Χ©Χ ΧΧ•Χ‘Χ™Χ™Χ§Χ Χ”-'options' Χ‘ΧΧ•Χ Χ”ΧΧ¤Χ§Χ Χ›Χ Χ©Χ”ΧΧ¤Χ§Χ ΧΧΧ•Χ™ Χ¨Χ§ Χ‘ΧΧ—Χ¨Χ•Χ–Χ 'roomId':

<Sandpack>

```js
import { useState, useEffect } from 'react';
import { createConnection } from './chat.js';

const serverUrl = 'https://localhost:1234';

function ChatRoom({ roomId }) {
  const [message, setMessage] = useState('');

  useEffect(() => {
    const options = {
      serverUrl: serverUrl,
      roomId: roomId
    };
    const connection = createConnection(options);
    connection.connect();
    return () => connection.disconnect();
  }, [roomId]);

  return (
    <>
      <h1>Welcome to the {roomId} room!</h1>
      <input value={message} onChange={e => setMessage(e.target.value)} />
    </>
  );
}

export default function App() {
  const [roomId, setRoomId] = useState('general');
  return (
    <>
      <label>
        Choose the chat room:{' '}
        <select
          value={roomId}
          onChange={e => setRoomId(e.target.value)}
        >
          <option value="general">general</option>
          <option value="travel">travel</option>
          <option value="music">music</option>
        </select>
      </label>
      <hr />
      <ChatRoom roomId={roomId} />
    </>
  );
}
```

```js src/chat.js
export function createConnection({ serverUrl, roomId }) {
  // A real implementation would actually connect to the server
  return {
    connect() {
      console.log('β… Connecting to "' + roomId + '" room at ' + serverUrl + '...');
    },
    disconnect() {
      console.log('β Disconnected from "' + roomId + '" room at ' + serverUrl);
    }
  };
}
```

```css
input { display: block; margin-bottom: 20px; }
button { margin-left: 10px; }
```

</Sandpack>

Χ©Χ™Χ ΧΧ‘ Χ©ΧΧ Χ”ΧΧ—ΧΧ Χ‘ΧΆΧ¨Χ™Χ›Χ Χ¨Χ©Χ™ΧΧ Χ”ΧΧΧ•Χ Χ›Χ“Χ™ ΧΧ”Χ΅Χ™Χ¨ ΧΧ Χ”ΧΧΧ•Χ 'ΧΧ¤Χ©Χ¨Χ•Χ™Χ•Χ'. Χ–Χ” Χ™Χ”Χ™Χ” Χ©Χ’Χ•Χ™. Χ‘ΧΧ§Χ•Χ Χ–ΧΧ, Χ©Χ™Χ Χ™Χ ΧΧ Χ”Χ§Χ•Χ“ Χ©ΧΧ΅Χ‘Χ™Χ‘ Χ›Χ Χ©Χ”ΧΧΧ•Χ Χ”Χ¤Χ›Χ” Χ*ΧΧ™Χ•ΧΧ¨Χ.* ΧΧ—Χ©Χ•Χ‘ ΧΆΧ Χ¨Χ©Χ™ΧΧ Χ”ΧΧΧ•Χ Χ›ΧΆΧ Χ¨Χ©Χ™ΧΧ” Χ©Χ Χ›Χ Χ”ΧΆΧ¨Χ›Χ™Χ Χ”ΧΧ’Χ•Χ‘ΧΧ™Χ™Χ Χ”ΧΧ©ΧΧ©Χ™Χ ΧΧ Χ”Χ§Χ•Χ“ Χ©Χ Χ”ΧΧ¤Χ§Χ Χ©ΧΧ. ΧΧΧ” ΧΧ Χ‘Χ•Χ—Χ¨ Χ‘Χ›Χ•Χ•Χ Χ” ΧΧ” ΧΧ©Χ™Χ Χ‘Χ¨Χ©Χ™ΧΧ” Χ”Χ–Χ•. Χ”Χ¨Χ©Χ™ΧΧ” ΧΧΧΧ¨Χ β€‹β€‹ΧΧ Χ”Χ§Χ•Χ“ Χ©ΧΧ. Χ›Χ“Χ™ ΧΧ©Χ Χ•Χ ΧΧ Χ¨Χ©Χ™ΧΧ Χ”ΧΧΧ•Χ, Χ©Χ Χ” ΧΧ Χ”Χ§Χ•Χ“.

<LearnMore path="/learn/removing-effect-dependencies">

Χ§Χ¨Χ ΧΧ **[Χ”Χ΅Χ¨Χ ΧΧΧ•Χ ΧΧ¤Χ§Χ](/learn/removing-effect-dependencies)** Χ›Χ“Χ™ ΧΧΧΧ•Χ“ Χ›Χ™Χ¦Χ“ ΧΧ’Χ¨Χ•Χ ΧΧΧ¤Χ§Χ ΧΧ¤ΧΆΧ•Χ Χ©Χ•Χ‘ Χ‘ΧΧ“Χ™Χ¨Χ•Χ Χ ΧΧ•Χ›Χ” Χ™Χ•ΧΧ¨.

</LearnMore>

## Χ©Χ™ΧΧ•Χ© Χ—Χ•Χ–Χ¨ Χ‘Χ”Χ™Χ’Χ™Χ•Χ ΧΆΧ Χ•Χ•Χ™Χ ΧΧ•ΧΧΧΧ™Χ ΧΧ™Χ©Χ™Χ {/*Χ©Χ™ΧΧ•Χ©-Χ—Χ•Χ–Χ¨-Χ‘Χ”Χ™Χ’Χ™Χ•Χ-ΧΆΧ-Χ•Χ•Χ™Χ-ΧΧ•ΧΧΧΧ™Χ-ΧΧ™Χ©Χ™Χ*/}

ΧΧ’Χ•Χ‘Χ” ΧΧ’Χ™ΧΆΧ” ΧΆΧ Hooks ΧΧ•Χ‘Χ Χ™Χ Χ›ΧΧ• `useState`, `useContext` Χ•-`useEffect`. ΧΧ¤ΧΆΧΧ™Χ, ΧΧ¨Χ¦Χ” Χ©Χ™Χ”Χ™Χ” Hook ΧΧΧΧ¨Χ” Χ΅Χ¤Χ¦Χ™Χ¤Χ™Χ Χ™Χ•ΧΧ¨: ΧΧΧ©Χ, Χ ΧΧ•Χ Χ™Χ, ΧΧΆΧ§Χ•Χ‘ ΧΧ ΧΧΧ” ΧΧ©ΧΧΧ© ΧΧ§Χ•ΧΧ™ ΧΧ• ΧΧ”ΧΧ—Χ‘Χ¨ ΧΧ—Χ“Χ¨ Χ¦'ΧΧ. Χ›Χ“Χ™ ΧΧΆΧ©Χ•Χ Χ–ΧΧ, ΧΧΧ” Χ™Χ›Χ•Χ ΧΧ™Χ¦Χ•Χ¨ Hooks ΧΧ©ΧΧ ΧΧ¦Χ¨Χ›Χ™ Χ”ΧΧ¤ΧΧ™Χ§Χ¦Χ™Χ” Χ©ΧΧ.

Χ‘Χ“Χ•Χ’ΧΧ” Χ–Χ•, Χ”-Hook Χ”ΧΧ•ΧΧΧ ΧΧ™Χ©Χ™Χ `usePointerPosition` ΧΆΧ•Χ§Χ‘ ΧΧ—Χ¨ ΧΧ™Χ§Χ•Χ Χ”Χ΅ΧΧ, Χ‘ΧΆΧ•Χ“ `useDelayedValue` Hook Χ”ΧΧ•ΧΧΧ ΧΧ™Χ©Χ™Χ ΧΧ—Χ–Χ™Χ¨ ΧΆΧ¨Χ Χ©"Χ¤Χ•Χ’Χ¨ ΧΧΧ—Χ•Χ¨Χ™" Χ”ΧΆΧ¨Χ Χ©ΧΆΧ‘Χ¨Χ” ΧΧ΅Χ¤Χ¨ ΧΧ΅Χ•Χ™ΧΧ•Χ Χ©Χ ΧΧΧ¤Χ™Χ•Χ Χ©Χ Χ™Χ•Χ. Χ”Χ–Χ– ΧΧ Χ”Χ”Χ΅ΧΧ ΧΧΆΧ ΧΧ–Χ•Χ¨ Χ”ΧΧ¦Χ•Χ’Χ” Χ”ΧΧ§Χ“Χ™ΧΧ” Χ©Χ ΧΧ¨Χ’Χ– Χ”Χ—Χ•Χ Χ›Χ“Χ™ ΧΧ¨ΧΧ•Χ Χ©Χ•Χ‘Χ Χ ΧΆ Χ©Χ Χ Χ§Χ•Χ“Χ•Χ Χ‘ΧΆΧ§Χ‘Χ•Χ Χ”Χ”Χ΅ΧΧ:

<Sandpack>

```js
import { usePointerPosition } from './usePointerPosition.js';
import { useDelayedValue } from './useDelayedValue.js';

export default function Canvas() {
  const pos1 = usePointerPosition();
  const pos2 = useDelayedValue(pos1, 100);
  const pos3 = useDelayedValue(pos2, 200);
  const pos4 = useDelayedValue(pos3, 100);
  const pos5 = useDelayedValue(pos4, 50);
  return (
    <>
      <Dot position={pos1} opacity={1} />
      <Dot position={pos2} opacity={0.8} />
      <Dot position={pos3} opacity={0.6} />
      <Dot position={pos4} opacity={0.4} />
      <Dot position={pos5} opacity={0.2} />
    </>
  );
}

function Dot({ position, opacity }) {
  return (
    <div style={{
      position: 'absolute',
      backgroundColor: 'pink',
      borderRadius: '50%',
      opacity,
      transform: `translate(${position.x}px, ${position.y}px)`,
      pointerEvents: 'none',
      left: -20,
      top: -20,
      width: 40,
      height: 40,
    }} />
  );
}
```

```js src/usePointerPosition.js
import { useState, useEffect } from 'react';

export function usePointerPosition() {
  const [position, setPosition] = useState({ x: 0, y: 0 });
  useEffect(() => {
    function handleMove(e) {
      setPosition({ x: e.clientX, y: e.clientY });
    }
    window.addEventListener('pointermove', handleMove);
    return () => window.removeEventListener('pointermove', handleMove);
  }, []);
  return position;
}
```

```js src/useDelayedValue.js
import { useState, useEffect } from 'react';

export function useDelayedValue(value, delay) {
  const [delayedValue, setDelayedValue] = useState(value);

  useEffect(() => {
    setTimeout(() => {
      setDelayedValue(value);
    }, delay);
  }, [value, delay]);

  return delayedValue;
}
```

```css
body { min-height: 300px; }
```

</Sandpack>

ΧΧΧ” Χ™Χ›Χ•Χ ΧΧ™Χ¦Χ•Χ¨ Χ”Hooks ΧΧ•ΧΧΧΧ™Χ Χ‘ΧΧ•Χ¤Χ ΧΧ™Χ©Χ™, ΧΧ—Χ‘Χ¨ ΧΧ•ΧΧ, ΧΧ”ΧΆΧ‘Χ™Χ¨, Χ•ΧΧΆΧ©Χ•Χ Χ‘Χ”Χ Χ©Χ™ΧΧ•Χ© Χ—Χ•Χ–Χ¨ Χ‘Χ™Χ Χ¨Χ›Χ™Χ‘Χ™Χ. Χ›Χ›Χ Χ©Χ”ΧΧ¤ΧΧ™Χ§Χ¦Χ™Χ” Χ©ΧΧ ΧΧ’Χ“Χ, ΧΧ›ΧΧ•Χ‘ Χ¤Χ—Χ•Χ ΧΧ¤Χ§ΧΧ™Χ Χ‘Χ™Χ“ ΧΧ ΧΧΆΧ©Χ” Χ©Χ™ΧΧ•Χ© Χ—Χ•Χ–Χ¨ Χ‘-Hooks ΧΧ•ΧΧΧΧ™Χ ΧΧ™Χ©Χ™Χ Χ›ΧΧ‘Χ. Χ™Χ© Χ’Χ Χ”Χ¨Χ‘Χ” Χ”Hooks ΧΧ•ΧΧΧΧ™Χ ΧΧ™Χ©Χ™Χ™Χ ΧΧ¦Χ•Χ™Χ Χ™Χ Χ©ΧΧΧ•Χ—Χ–Χ§Χ™Χ ΧΆΧ Χ™Χ“Χ™ Χ§Χ”Χ™ΧΧ React.

<LearnMore path="/learn/reusing-logic-with-custom-hooks">

Χ§Χ¨Χ ΧΧ **[Χ”Χ©ΧΧΧ© Χ‘Χ‘ΧΧ•Χ’Χ™Χ§Χ” ΧΆΧ Χ•Χ•Χ™Χ ΧΧ•ΧΧΧΧ™Χ ΧΧ™Χ©Χ™Χ](/learn/reusing-logic-with-custom-hooks)** Χ›Χ“Χ™ ΧΧΧΧ•Χ“ Χ›Χ™Χ¦Χ“ ΧΧ©ΧΧ£ ΧΧ•Χ’Χ™Χ§Χ” Χ‘Χ™Χ Χ¨Χ›Χ™Χ‘Χ™Χ.

</LearnMore>

## ΧΧ” Χ”ΧΧΧ”? {/*ΧΧ”-Χ”Χ‘Χ*/}

ΧΆΧ‘Χ¨Χ• ΧΧ [Χ”ΧΧ™Χ™Χ—Χ΅Χ•Χ ΧΧΆΧ¨Χ›Χ™Χ ΧΆΧ Refs](/learn/referencing-values-with-refs) Χ›Χ“Χ™ ΧΧ”ΧΧ—Χ™Χ ΧΧ§Χ¨Χ•Χ Χ¤Χ¨Χ§ Χ–Χ” ΧΆΧΧ•Χ“ ΧΧ—Χ¨ ΧΆΧΧ•Χ“!

